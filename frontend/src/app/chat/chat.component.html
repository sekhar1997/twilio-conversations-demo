<div>
  <div>STATUS: {{ status }}</div>
  <div>Status string: {{ statusString }}</div>

  <select (change)="conversationSelectHandler($event)">
    <option selected disabled>Choose conversation</option>
    <option *ngFor="let convo of conversations" [value]="convo.sid">
      {{ convo.friendlyName }}
    </option>
  </select>

  <!-- <div class="convo">
    <div id="messages">
      <ul>
        <li *ngFor="let m of messages">
          <app-message [message]="m"></app-message>
        </li>
      </ul>
    </div>
    <input type="text" [(ngModel)]="newMessage" />
    <button (click)="sendMessage()">Send</button>
    <input type="file" (change)="fileChangeHandler($event)" />
  </div> -->

  <div class="logout-ctn">
    <button (click)="logout()">Logout</button>
  </div>
</div>

<div>
  <section class="msger">
    <header class="msger-header">
      <div class="msger-header-title">
        <i class="fas fa-comment-alt"></i> Chat with seller
      </div>
      <div class="msger-header-options">
        <span><i class="fas fa-cog"></i></span>
      </div>
    </header>
    <!-- <div
      #messageContainer
      [scrollTop]="messageContainer.scrollHeight"
      (scroll)="onScroll($event)"
      class="chat-body"
    > -->
    <div
      #messageContainer
      class="chat-body"
      infinite-scroll
      [scrollWindow]="false"
      (scrolledUp)="onUp()"
    >
      <main class="msger-chat" *ngFor="let m of messages">
        <app-message [message]="m"></app-message>
      </main>
    </div>

    <div class="msger-inputarea">
      <input
        type="text"
        [(ngModel)]="newMessage"
        class="msger-input"
        placeholder="Enter your message..."
      />
      <button class="msger-send-btn" (click)="sendMessage()">Send</button>
      <input
        style="display: none"
        type="file"
        #fileInput
        (change)="fileChangeHandler($event)"
      />
      <button class="msger-send-btn" (click)="fileInput.click()">upload</button>
    </div>
  </section>
</div>
